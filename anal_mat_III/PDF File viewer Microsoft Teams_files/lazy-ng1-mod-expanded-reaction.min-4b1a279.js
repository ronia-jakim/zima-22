webpackJsonp([49],{2378:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),o(2379)},2379:function(e,t,o){"use strict";var i=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}();Object.defineProperty(t,"__esModule",{value:!0});var s=o(323),n=o(2382),r=function(e){function t(t,o,i,s,n,r,c,a,l,p,u,d,v,m,g,h,f,S,b,y,C,$,k){var M,_,j=e.call(this,t,o,i,s,n,r,c,a,l,p,u,d,v,m,g,h,f,S,b,y,C,$)||this;return j.$scope=t,j.ariaLiveService=o,j.resources=i,j.constants=s,j.settingsService=n,j.eventingService=r,j.emojiEmoticonCategoryService=c,j.commandsService=a,j.loggingService=l,j.channelService=p,j.tenantSettingsStore=u,j.utilityService=d,j.tooltipService=v,j.sxConfig=m,j.$translate=g,j.$q=h,j.$popover=f,j.$element=S,j.$ocLazyLoad=b,j.emoticonV2Service=y,j.$timeout=C,j.channelMembershipPropertiesService=$,j.messageActionsService=k,j.messageReactionsEnabled=!0,j.isCurrentUserMuted=!1,j.isCurrentUserLeft=!1,j.popoverPlacement="auto bottom",j.pickerType="expanded",j.isCurrentUserMuted=k.isUserMuted(null===(M=j.messageViewModel)||void 0===M?void 0:M.conversationId),k.isUserLeft(null===(_=j.messageViewModel)||void 0===_?void 0:_.conversationId).then(function(e){j.isCurrentUserLeft=e}),j}return i(t,e),t.$inject=["$scope","ariaLiveService","resources","constants","settingsService","eventingService","emojiEmoticonCategoryService","commandsService","loggingService","channelService","tenantSettingsStore","utilityService","tooltipService","sxConfig","$translate","$q","$popover","$element","$ocLazyLoad","emoticonV2Service","$timeout","channelMembershipPropertiesService","messageActionsService"],t.prototype.handleMenuKeyDown=function(e,t,o){e.which!==this.constants.keyCodes.space&&e.which!==this.constants.keyCodes.enter||(e.stopPropagation(),e.preventDefault(),this.onEmojiClicked(o.id))},t.prototype.onEmojiClicked=function(e){if(e&&!this.isCurrentUserLeft&&!this.isCurrentUserMuted){this.tooltipService.clearTooltip(teamspace.services.TooltipType.Popover,this.tooltipId),this.messageActionsService.logTelementryForClickAction(teamspace.services.MessageActionsTrackAttribute.onMessageLike,this.messageViewModel,this.logger,this.$scope,this.messageReactionsEnabled,void 0,e,"messageActionsEntryPoint");var t=this.messageActionsService.getReactionsLabel(e,this.messageViewModel);return this.ariaLiveService.update(t,!0),this.messageActionsService.updateMessageReaction(this.messageViewModel,e)}},t}(s.EmojiInputExtensionControllerV2);t.ExpandedReactionController=r,angular.module("teamspace.expandedReactions",["focusOn"]).directive("inputExpandedReactions",[function(){return{restrict:"E",scope:{ctrlid:"@"},bindToController:{forceTooltipBelow:"@",isDisabled:"=?",messageType:"=?",avoidScreenEdge:"<?",skypeConversationId:"=?",teamName:"=?",setRefocusCallback:"&",messageViewModel:"=?"},controllerAs:"emojiPicker",templateUrl:"components/fun-stuff-picker/input-expanded-reaction.html",controller:r}}]).run(["$templateCache",function(e){e.put("components/fun-stuff-picker/input-expanded-reaction.html",n)}])},2382:function(e,t){e.exports='<button type="button" role="button" acc-role="message-list-tooltip" tabindex="-1" prevent-override-role="true" class="tabbable-action-item ts-sym pull-right icons-emoji app-icons-fill-focus app-icons-fill-hover inset-border inset-border-round inset-border-themed shortcuts-funstuff" ng-click="emojiPicker.popoverMenuHandler($event, this)" ts-event-class="{ \'tooltip.show\': \'selected\', \'tooltip.hide\': \'-selected\' }" data-tid="emojiPickerButton" title="{{::$root.resources.strings.messages_composeBoxEmojiPicker|translate}}" aria-label="{{::$root.resources.strings.aria_messages_messageBoxEmojiPicker|translate}}">\n  <ng-include src="\'[[staticsPath]]/hashed/svg/icons-add-expression-4532374.html\'"></ng-include>\n</button>'}},[2378]);
//# sourceMappingURL=[[staticsPath]]/hashed/lazy-ng1-mod-expanded-reaction.min-5dcf5ff.js.map